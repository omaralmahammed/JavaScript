<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 4</title>
  </head>

  <body>
    <label for="">Animals: </label>
    <select id="animalsSelect"></select>

    <br />
    <img id="animalImage" src="" alt="No Image" width="300px" height="500px" />

    <!-- ///////////////////////////////////////////////////////////////////////////////////////////////// -->

    <script>
      // get the data fron API
      const url = "https://66681676f53957909ff67af8.mockapi.io/users/Animals";

      const list = document.getElementById("animalsSelect");
      const animalImage = document.getElementById("animalImage");

      async function getData() {
        // get data from api
        const response = await fetch(url);
        const jsonData = await response.json();

        // creat option element with the name of every data in api
        for (let i = 0; i < jsonData.length; i++) {
          const newOption = document.createElement("option");
          newOption.innerHTML = jsonData[i].name;
          newOption.value = jsonData[i].image;
          list.appendChild(newOption);
        }

        //set the url in api to every image
        animalImage.src = list.value;
      }

      // change the image when click on any name in dopdown
      list.addEventListener("change", function () {
        animalImage.src = list.value;
      });

      getData();
    </script>
  </body>
</html>
